{
  "deployEnv": "FPACDEV",
  "project": "CNSV",
  "region": "us-east-1",
  "bucketRegion": "us-east-1",
  "secretId": "FSA-DEV-Secrets",

  "configData": {
    "databaseName": "fsa-fpac-db",
    "dynamoTableName": "FsaFpacMetadata"
  },
  "strparams": {
    "landingBucketNameParam": "c108-dev-fpacfsa-landing-zone",
    "cleanBucketNameParam": "c108-dev-fpacfsa-cleansed-zone",
    "finalBucketNameParam": "c108-dev-fpacfsa-final-zone",
    "jobIdKeyParam": "cnsv/etl-jobs/job_id.json",
    "glueJobRoleArnParam": "arn:aws:iam::241533156429:role/disc-fsa-dev-servicerole-glue",
    "etlRoleArnParam": "arn:aws:iam::241533156429:role/disc-fsa-dev-lambda",
    "thirdPartyLayerArnParam": "arn:aws:lambda:us-east-1:241533156429:layer:FSA_DEV-psycopg2:1",
    "customLayerArnParam": "arn:aws:lambda:us-east-1:241533156429:layer:FSA-polars:2",
    "snsArnParam": "arn:aws:sns:us-east-1:241533156429:FSA-DEV-FMMI",
    "buildProcessingPlanFnArnParam": "arn:aws:lambda:us-east-1:241533156429:function:FSA-FPACDEV-edv-build-processing-plan",
    "checkResultsFnArnParam": "arn:aws:lambda:us-east-1:241533156429:function:FSA-FPACDEV-edv-check-results",
    "finalizePipelineFnArnParam": "arn:aws:lambda:us-east-1:241533156429:function:FSA-FPACDEV-edv-finalize-pipeline",
    "handleFailureFnArnParam": "arn:aws:lambda:us-east-1:241533156429:function:FSA-FPACDEV-edv-handle-failure"
  },
  "paths": {
    "glueRootPath": "glue/",
    "lambdaRootPath": "lambda/"
  },
  "artifacts": {
    "artifactBucket": "fsa-dev-ops",
    "prefix": "cnsv/"
  },
  "stepFunctions": {
    "createRoleIfMissing": false,
    "roleName": "disc-fsa-dev-stepfunction",
    "roleArn": "arn:aws:iam::241533156429:role/disc-fsa-dev-stepfunction"
  },
  "configUpload": {
    "functionName": "FSA-FPACDEV-UploadConfig",
    "sourceDir": "configs",
    "inputBucket": "fsa-dev-ops",
    "inputPrefix": "input/zips",
    "outputBucket": "c108-dev-fpacfsa-final-zone",
    "outputPrefix": "cnsv",
    "minExpectedObjects": 2,
    "debug": true
  },
  "GlueConfig": [ 
    { 
      "LandingFiles": {
        "Connections" : [{
            "ConnectionName": "FSA-DEV-PG-DART114"
                    }] ,
          "MaxConcurrency": "1",
          "MaxRetries": "0",
          "TimeoutMinutes": "2880",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://fsa-dev-ops/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://fsa-dev-ops/temp/glue/",
          "PythonLibraryPath": "",
          "ReferencePath": "s3://c108-cert-fpacfsa-landing-zone/dart/scripts/python-modules/dart/glue/psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "AdditionalPythonModulesPath": "s3://c108-cert-fpacfsa-landing-zone/dart/scripts/python-modules/dart/glue/psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
            "--DestinationBucket": "c108-dev-fpacfsa-landing-zone",
            "--DestinationPrefix": "cnsv/etl-jobs",
             "--PipelineName": "cnsv",
            "--SecretId": "FSA-CERT-Secrets",
            "--SourcePrefix": "cnsv/dbo"
          }
      }
    },
     { 
      "Cntr-Maint-LandingFiles": {
        "Connections" : [{
            "ConnectionName": "FSA-DEV-PG-DART114"
                    }] ,
          "MaxConcurrency": "1",
          "MaxRetries": "0",
          "TimeoutMinutes": "2880",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://fsa-dev-ops/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://fsa-dev-ops/temp/glue/",
          "PythonLibraryPath": "",
          "ReferencePath": "s3://c108-cert-fpacfsa-landing-zone/dart/scripts/python-modules/dart/glue/psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "AdditionalPythonModulesPath": "s3://c108-cert-fpacfsa-landing-zone/dart/scripts/python-modules/dart/glue/psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
            "--DestinationBucket": "c108-dev-fpacfsa-landing-zone",
            "--DestinationPrefix": "cnsv/etl-jobs",
             "--PipelineName": "cnsv",
            "--SecretId": "FSA-CERT-Secrets",
            "--SourcePrefix": "cnsv/dbo"
          }
      }
    },
    {
      "EXEC-SQL": {
        "Connections": [{ "ConnectionName": "FSA-DEV-PG-DART114" }],
        "MaxConcurrency": "1",
        "MaxRetries": "0",
        "TimeoutMinutes": "480",
        "WorkerType": "G.2X",
        "SparkUILogsPath": "s3://fsa-dev-ops/glue-logs/spark-ui/cnsv/",
        "NumberOfWorkers": "2",
        "AutomaticScalingEnabled": "true",
        "GlueVersion": "4.0",
        "JobLanguage": "python",
        "GenerateMetrics": "true",
        "EnableJobBookmarks": "false",
        "JobObservabilityMetrics": "ENABLED",
        "JobContinuousLogging": "ENABLED",
        "TemporaryPath": "s3://fsa-dev-ops/temp/glue/",
        "PythonLibraryPath": "",
        "ReferencePath": "",
        "AdditionalPythonModulesPath": "",
        "UseGlueDataCatalogAsTheHiveMetastore": "true",
        "JobParameters": {
          "--data_src_nm": "cnsv",
          "--end_date": "2026-02-11",
          "--layer": "stg",
          "--run_type": "incremental",
          "--start_date": "2026-01-27",
          "--table_name": "CNSV_LOSS_UNIT"
        }
      }
    },
    { 
      "Cons-Pymts-LandingFiles": {
        "Connections" : [{
            "ConnectionName": "FSA-DEV-PG-DART114"
                    }] ,
          "MaxConcurrency": "1",
          "MaxRetries": "0",
          "TimeoutMinutes": "2880",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://fsa-dev-ops/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://fsa-dev-ops/temp/glue/",
          "PythonLibraryPath": "",
          "ReferencePath": "s3://c108-cert-fpacfsa-landing-zone/dart/scripts/python-modules/dart/glue/psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "AdditionalPythonModulesPath": "s3://c108-cert-fpacfsa-landing-zone/dart/scripts/python-modules/dart/glue/psycopg2_binary-2.9.9-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
            "--DestinationBucket": "c108-dev-fpacfsa-landing-zone",
            "--DestinationPrefix": "cnsv/etl-jobs",
             "--PipelineName": "cnsv",
            "--SecretId": "FSA-CERT-Secrets",
            "--SourcePrefix": "cnsv/dbo"
          }
      }
    },
    {
     "Raw-DM": {
        "Connections" : [{
            "ConnectionName": "FSA-DEV-PG-DART114"
                      }] ,
          "MaxConcurrency": "30",
          "MaxRetries": "0",
          "TimeoutMinutes": "720",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://fsa-dev-ops/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://fsa-dev-ops/temp/glue/",
          "PythonLibraryPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
              "--ENABLE_DQ_METRICS": "true",
              "--JobId": "30741",
              "--SKIP_COUNT_TABLES": "ewt86shloc",
              "--SKIP_DQ_TABLES": "ewt86shloc",
              "--TableName": "ewt86shloc",
              "--env": "dev",
              "--extra-jars": "metadata_edw",
              "--region_name": "us-east-1",
              "--secret_name": "FSA-DEV-Secrets",
              "--source_prefix": "cnsv",
              "--target_bucket": "c108-dev-fpacfsa-final-zone",
              "--target_prefix": "cnsv"
            }
      }
    },
    {
     "Cntr-Maint-Raw-DM": {
        "Connections" : [{
            "ConnectionName": "FSA-DEV-PG-DART114"
                      }] ,
          "MaxConcurrency": "30",
          "MaxRetries": "0",
          "TimeoutMinutes": "720",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://fsa-dev-ops/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://fsa-dev-ops/temp/glue/",
          "PythonLibraryPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
              "--ENABLE_DQ_METRICS": "true",
              "--JobId": "30741",
              "--SKIP_COUNT_TABLES": "ewt86shloc",
              "--SKIP_DQ_TABLES": "ewt86shloc",
              "--TableName": "ewt86shloc",
              "--env": "dev",
              "--extra-jars": "metadata_edw",
              "--region_name": "us-east-1",
              "--secret_name": "FSA-DEV-Secrets",
              "--source_prefix": "cnsv",
              "--target_bucket": "c108-dev-fpacfsa-final-zone",
              "--target_prefix": "cnsv"
            }
      }
    },
    {
     "Cons-Pymts-Raw-DM": {
        "Connections" : [{
            "ConnectionName": "FSA-DEV-PG-DART114"
                      }] ,
          "MaxConcurrency": "30",
          "MaxRetries": "0",
          "TimeoutMinutes": "720",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://fsa-dev-ops/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://fsa-dev-ops/temp/glue/",
          "PythonLibraryPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
              "--ENABLE_DQ_METRICS": "true",
              "--JobId": "30741",
              "--SKIP_COUNT_TABLES": "ewt86shloc",
              "--SKIP_DQ_TABLES": "ewt86shloc",
              "--TableName": "ewt86shloc",
              "--env": "dev",
              "--extra-jars": "metadata_edw",
              "--region_name": "us-east-1",
              "--secret_name": "FSA-DEV-Secrets",
              "--source_prefix": "cnsv",
              "--target_bucket": "c108-dev-fpacfsa-final-zone",
              "--target_prefix": "cnsv"
            }
      }
    }
  ],
  "crawlers": [
    {
       "FSA-DEV-CNSV":{
        "name": "FSA-DEV-CNSV",
        "description": "CNSV crawler data sources (grouped by bucket)",
        "databaseName": "fsa-dev-cnsv",
        "s3TargetsByBucket": [
          {
            "bucket": "c108-dev-fpacfsa-final-zone",
            "prefixes": [
              "cnsv/"
            ]
          }
        ]
       },
       "FSA-DEV-CNSV-cdc": {
        "name": "FSA-DEV-CNSV-cdc",
        "description": "CNSV crawler data sources (grouped by bucket)",
        "databaseName": "fsa-dev-cnsv-cdc",
        "s3TargetsByBucket": [
          {
            "bucket": "c108-dev-fpacfsa-final-zone",
            "prefixes": [
              "cnsv/_cdc/"
            ]
          }
        ]
      },
      "FSA-DEV-CNSV-MAINT": {
        "name": "FSA-DEV-CNSV-MAINT",
        "description": "CNSV crawler data sources (grouped by bucket)",
        "databaseName": "fsa-dev-ccms",
        "s3TargetsByBucket": [
          {
            "bucket": "c108-dev-fpacfsa-final-zone",
            "prefixes": [
              "contract_maintenance/"
            ]
          }
        ]
      },
       "FSA-DEV-CNSV-MAINT-cdc": {
        "name": "FSA-DEV-CNSV-MAINT-cdc",
        "description": "CNSV crawler data sources (grouped by bucket)",
        "databaseName": "fsa-dev-ccms-cdc",
        "s3TargetsByBucket": [
          {
            "bucket": "c108-dev-fpacfsa-final-zone",
            "prefixes": [
              "contract_maintenance/_cdc/"
            ]
          }
        ]
      },
      "FSA-DEV-CNSV-CONS-PYMTS": {
        "name": "FSA-DEV-CNSV-CONS-PYMTS",
        "description": "CNSV crawler data sources (grouped by bucket)",
        "databaseName": "fsa-dev-ccpf",
        "s3TargetsByBucket": [
          {
            "bucket": "c108-dev-fpacfsa-final-zone",
            "prefixes": [
              "conservation_payments/"
            ]
          }
        ]
      },
      "FSA-DEV-CNSV-CONS-PYMTS-cdc": {
        "name": "FSA-DEV-CNSV-CONS-PYMTS-cdc",
        "description": "CNSV crawler data sources (grouped by bucket)",
        "databaseName": "fsa-dev-ccpf-cdc",
        "s3TargetsByBucket": [
          {
            "bucket": "c108-dev-fpacfsa-final-zone",
            "prefixes": [
              "conservation_payments/_cdc/"
            ]
          }
        ]
      }
    }
  ]
  
}


