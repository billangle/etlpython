{
  "deployEnv": "STEAMDEV",
  "project": "CNSV",
  "region": "us-east-1",
  "bucketRegion": "us-east-1",
  "secretId": "FSA-DEV-Secrets",

  "configData": {
    "databaseName": "fsa-fpac-db",
    "dynamoTableName": "FsaFpacMetadata"
  },
  "strparams": {
    "landingBucketNameParam": "punkdev-fpacfsa-landing-zone",
    "cleanBucketNameParam": "punkdev-fpacfsa-cleansed-zone",
    "finalBucketNameParam": "punkdev-fpacfsa-final-zone",
    "jobIdKeyParam": "cnsv/etl-jobs/job_id.json",
    "glueJobRoleArnParam": "arn:aws:iam::335965711887:role/FPACGlueCDKRole",
    "etlRoleArnParam": "arn:aws:iam::335965711887:role/FPACLambdaCDKRole",
    "thirdPartyLayerArnParam": "arn:aws:lambda:us-east-1:335965711887:layer:FSA-DEV-MDART-layer:1",
    "customLayerArnParam": "arn:aws:lambda:us-east-1:335965711887:layer:FSA-polars:1",
    "snsArnParam": "arn:aws:sns:us-east-1:335965711887:FSA-DEV-FMMI"
  },
  "paths": {
    "glueRootPath": "glue/",
    "lambdaRootPath": "lambda/"
  },

  "artifacts": {
    "artifactBucket": "dev-cars-artifacts",
    "prefix": "cnsv/"
  },

  "stepFunctions": {
  "createRoleIfMissing": false,
  "roleName": "FSA-dev-FPACCARS-SfnExec",
  "roleArn": "arn:aws:iam::335965711887:role/FSA-dev-FPACCARS-SfnExec",
   "nestedCallerRoleArn": "arn:aws:iam::335965711887:role/FSA-dev-FPACCARS-SfnNestedCaller"
  },
  "configUpload": {
    "functionName": "FSA-steam-dev-UploadConfig",
    "sourceDir": "configs",
    "inputBucket": "dev-cars-artifacts",
    "inputPrefix": "input/zips",
    "outputBucket": "punkdev-fpacfsa-final-zone",
    "outputPrefix": "cnsv",
    "minExpectedObjects": 2,
    "debug": true
  },
   "GlueConfig": [ 
    { 
      "LandingFiles": {
        "Connections" : [{
      "ConnectionName": ""
                    }] ,
          "MaxConcurrency": "1",
          "MaxRetries": "0",
          "TimeoutMinutes": "2880",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://dev-cars-artifacts/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://dev-cars-artifacts/temp/glue/",
          "PythonLibraryPath": "",
          "ReferencePath": "",
          "AdditionalPythonModulesPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
            "--DestinationBucket": "punkdev-fpacfsa-landing-zone",
            "--DestinationPrefix": "cnsv/etl-jobs",
             "--PipelineName": "cnsv",
            "--SecretId": "FSA-CERT-Secrets",
            "--SourcePrefix": "cnsv/dbo"
          }
      }
    },
     { 
      "Cntr-Maint-LandingFiles": {
        "Connections" : [{
            "ConnectionName": ""
                    }] ,
          "MaxConcurrency": "1",
          "MaxRetries": "0",
          "TimeoutMinutes": "2880",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://dev-cars-artifacts/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://dev-cars-artifacts/temp/glue/",
          "PythonLibraryPath": "",
          "ReferencePath": "",
          "AdditionalPythonModulesPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
            "--DestinationBucket": "punkdev-fpacfsa-landing-zone",
            "--DestinationPrefix": "cnsv/etl-jobs",
             "--PipelineName": "cnsv",
            "--SecretId": "FSA-CERT-Secrets",
            "--SourcePrefix": "cnsv/dbo"
          }
      }
    },
    {
      "EXEC-SQL": {
        "Connections": [{ "ConnectionName": "" }],
        "MaxConcurrency": "1",
        "MaxRetries": "0",
        "TimeoutMinutes": "480",
        "WorkerType": "G.2X",
        "SparkUILogsPath": "s3://dev-cars-artifacts/glue-logs/spark-ui/cnsv/",
        "NumberOfWorkers": "2",
        "AutomaticScalingEnabled": "true",
        "GlueVersion": "4.0",
        "JobLanguage": "python",
        "GenerateMetrics": "true",
        "EnableJobBookmarks": "false",
        "JobObservabilityMetrics": "ENABLED",
        "JobContinuousLogging": "ENABLED",
        "TemporaryPath": "s3://dev-cars-artifacts/temp/glue/",
        "PythonLibraryPath": "",
        "ReferencePath": "",
        "AdditionalPythonModulesPath": "",
        "UseGlueDataCatalogAsTheHiveMetastore": "true",
        "JobParameters": {
          "--data_src_nm": "cnsv",
          "--end_date": "2026-02-11",
          "--layer": "stg",
          "--run_type": "incremental",
          "--start_date": "2026-01-27",
          "--table_name": "CNSV_LOSS_UNIT"
        }
      }
    },
    { 
      "Cons-Pymts-LandingFiles": {
        "Connections" : [{
            "ConnectionName": ""
                    }] ,
          "MaxConcurrency": "1",
          "MaxRetries": "0",
          "TimeoutMinutes": "2880",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://dev-cars-artifacts/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://dev-cars-artifacts/temp/glue/",
          "PythonLibraryPath": "",
          "ReferencePath": "",
          "AdditionalPythonModulesPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
            "--DestinationBucket": "punkdev-fpacfsa-landing-zone",
            "--DestinationPrefix": "cnsv/etl-jobs",
             "--PipelineName": "cnsv",
            "--SecretId": "FSA-CERT-Secrets",
            "--SourcePrefix": "cnsv/dbo"
          }
      }
    },
    {
     "Raw-DM": {
        "Connections" : [{
            "ConnectionName": ""
                      }] ,
          "MaxConcurrency": "30",
          "MaxRetries": "0",
          "TimeoutMinutes": "720",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://dev-cars-artifacts/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://dev-cars-artifacts/temp/glue/",
          "PythonLibraryPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
              "--ENABLE_DQ_METRICS": "true",
              "--JobId": "30741",
              "--SKIP_COUNT_TABLES": "ewt86shloc",
              "--SKIP_DQ_TABLES": "ewt86shloc",
              "--TableName": "ewt86shloc",
              "--env": "dev",
              "--extra-jars": "metadata_edw",
              "--region_name": "us-east-1",
              "--secret_name": "FSA-STDEV-Secrets",
              "--source_prefix": "cnsv",
              "--target_bucket": "punkdev-fpacfsa-final-zone",
              "--target_prefix": "cnsv"
            }
      }
    },
    {
     "Cntr-Maint-Raw-DM": {
        "Connections" : [{
            "ConnectionName": ""
                      }] ,
          "MaxConcurrency": "30",
          "MaxRetries": "0",
          "TimeoutMinutes": "720",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://dev-cars-artifacts/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://dev-cars-artifacts/temp/glue/",
          "PythonLibraryPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
              "--ENABLE_DQ_METRICS": "true",
              "--JobId": "30741",
              "--SKIP_COUNT_TABLES": "ewt86shloc",
              "--SKIP_DQ_TABLES": "ewt86shloc",
              "--TableName": "ewt86shloc",
              "--env": "dev",
              "--extra-jars": "metadata_edw",
              "--region_name": "us-east-1",
              "--secret_name": "FSA-STDEV-Secrets",
              "--source_prefix": "cnsv",
              "--target_bucket": "punkdev-fpacfsa-final-zone",
              "--target_prefix": "cnsv"
            }
      }
    },
    {
     "Cons-Pymts-Raw-DM": {
        "Connections" : [{
            "ConnectionName": ""
                      }] ,
          "MaxConcurrency": "30",
          "MaxRetries": "0",
          "TimeoutMinutes": "720",
          "WorkerType": "G.2X",
          "SparkUILogsPath": "s3://dev-cars-artifacts/glue-logs/spark-ui/cnsv/",
          "NumberOfWorkers": "2",
          "AutomaticScalingEnabled": "true",
          "GlueVersion": "4.0",
          "JobLanguage": "python",
          "GenerateMetrics": "true",
          "EnableJobBookmarks": "false",
          "JobObservabilityMetrics": "ENABLED",
          "JobContinuousLogging": "ENABLED",
          "TemporaryPath": "s3://dev-cars-artifacts/temp/glue/",
          "PythonLibraryPath": "",
          "UseGlueDataCatalogAsTheHiveMetastore": "true",
            "JobParameters": {
              "--ENABLE_DQ_METRICS": "true",
              "--JobId": "30741",
              "--SKIP_COUNT_TABLES": "ewt86shloc",
              "--SKIP_DQ_TABLES": "ewt86shloc",
              "--TableName": "ewt86shloc",
              "--env": "dev",
              "--extra-jars": "metadata_edw",
              "--region_name": "us-east-1",
              "--secret_name": "FSA-STDEV-Secrets",
              "--source_prefix": "cnsv",
              "--target_bucket": "punkdev-fpacfsa-final-zone",
              "--target_prefix": "cnsv"
            }
      }
    }
  ],
  "crawlers": [
    {
       "FSA-STDEV-CNSV":{
        "name": "FSA-STDEV-CNSV",
        "description": "CNSV BASE crawler",
        "databaseName": "FSA-STDEV-cnsv",
        "s3TargetsByBucket": [
          {
            "bucket": "punkdev-fpacfsa-final-zone",
            "prefixes": [
              "cnsv/"
            ]
          }
        ]
       },
       "FSA-STDEV-CNSV-cdc": {
        "name": "FSA-STDEV-CNSV-cdc",
        "description": "CNSV BASE crawler ",
        "databaseName": "FSA-STDEV-cnsv-cdc",
        "s3TargetsByBucket": [
          {
            "bucket": "punkdev-fpacfsa-final-zone",
            "prefixes": [
              "cnsv/_cdc/"
            ]
          }
        ]
      },
      "FSA-STDEV-CNSV-MAINT": {
        "name": "FSA-STDEV-CNSV-MAINT",
        "description": "CNSV MAINT crawler ",
        "databaseName": "FSA-STDEV-ccms",
        "s3TargetsByBucket": [
          {
            "bucket": "punkdev-fpacfsa-final-zone",
            "prefixes": [
              "contract_maintenance/"
            ]
          }
        ]
      },
       "FSA-STDEV-CNSV-MAINT-cdc": {
        "name": "FSA-STDEV-CNSV-MAINT-cdc",
        "description": "CNSV MAINT crawler ",
        "databaseName": "FSA-STDEV-ccms-cdc",
        "s3TargetsByBucket": [
          {
            "bucket": "punkdev-fpacfsa-final-zone",
            "prefixes": [
              "contract_maintenance/_cdc/"
            ]
          }
        ]
      },
      "FSA-STDEV-CNSV-CONS-PYMTS": {
        "name": "FSA-STDEV-CNSV-CONS-PYMTS",
        "description": "CNSV PYMTS crawler ",
        "databaseName": "FSA-STDEV-ccpf",
        "s3TargetsByBucket": [
          {
            "bucket": "punkdev-fpacfsa-final-zone",
            "prefixes": [
              "conservation_payments/"
            ]
          }
        ]
      },
      "FSA-STDEV-CNSV-CONS-PYMTS-cdc": {
        "name": "FSA-STDEV-CNSV-CONS-PYMTS-cdc",
        "description": "CNSV PYMTS crawler ",
        "databaseName": "FSA-STDEV-ccpf-cdc",
        "s3TargetsByBucket": [
          {
            "bucket": "punkdev-fpacfsa-final-zone",
            "prefixes": [
              "conservation_payments/_cdc/"
            ]
          }
        ]
      }
    }
  ]
  
}